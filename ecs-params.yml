version: 1
task_definition:
  services:
    neo4j:
      cpu_shares: 256
      mem_limit: 512m
      environment:
        - NEO4J_AUTH=neo4j/your_secure_password
      mount_points:
        - source_volume: neo4j-data
          container_path: /data

    spring-boot-app:
      cpu_shares: 256
      mem_limit: 512m
      environment:
        - NEO4J_URI=bolt://neo4j:7687
        - NEO4J_USERNAME=neo4j
        - NEO4J_PASSWORD=your_secure_password
      depends_on:
        - neo4j

    vite-app:
      cpu_shares: 256
      mem_limit: 512m
      depends_on:
        - spring-boot-app

volumes:
  neo4j-data:
    driver: efs